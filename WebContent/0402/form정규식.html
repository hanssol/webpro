<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<script>
	function RegPro(){
		// 정규식 패턴 검사하기
		/*
		정규식객체(패턴).exec(검사할 문자열) : 
			패턴에 맞는 문자가 있으면 문자를 리턴
			없으면 null을 리턴
		정규식객체(패턴)test(검사할 문자열) : 
			문자열이 정규식 패턴에 맞으면 true, 틀리면 false 를 반환한다.
		문자열 match("정규식 패턴문자") : 
			패턴에 맞는 문자가 있으면 문자를 리턴
			없으면 null을 리턴
		*/
		f = document.ff;
		
		// 입력한 값
		vname = f.name.value;
		vid = f.id.value;
		vemail = f.email.value;
		vphone = f.phone.value;
		vpass = f.pass.value;
		 
		// 정규식 //패턴 - 
		// 비밀번호 : 
			
		// 전방탐색 
		// \w+(?=:) ?= 찾는문자 -> 찾는문자(:)을 기준으로 1개이상 나오는 문자나 숫자를 탐색
		/*
		aa = "https://www.naver.com";
		// aa = "https://www.naver.com";
		// aa = ftp://
		// aa = mailto:
		reg = /\w+(?=:)/
		
		bb = aa.match(reg);
		if(bb == "http"){
			alert("http접속");
		}else if(bb == "https"){
			alert("https접속");
		}
		*/
		
		// 비밀번호에 영문대소문자 숫자 특ㄱ수문자가 반드시 포함되어야 한다.
		// 0개이상의 문자 다음에 영문대문자를 기준으로 - 전방에 있는 글자를 탐색
		// 전방에 지정한 패턴글자가 없다. 즉, 영문대문자로 시작할 수 있다.
		pw = /^(?=.*[A-Z])(?=.*[a-z])(?=.*[0-9])(?=.*[!@#$%^&*]).{8,20}$/;
		
		if(!(pw.test(vpass))){
			alert("비밀번호 오류");
			return;
		}
		
		// 아이디 : 영문자로 시작 영문자와 숫자를 조합해서 6~12로 한다. affVV9
		idpattern = /^[a-zA-Z][a-zA-Z0-9@$%^&*()]{5,11}$/;
		
		if(!(idpattern.test(vid))){
			alert("id 오류...");
			return;
		}
		// 이름 : 한글 2~4 또는 영문 5~15
		namepattern = /^[가-힣]{2,4}$|[a-zA-Z]{5,15}$/;
		if(!(namepattern.test(vname))){
			alert("name 오류");
			return;
		}
		// email : 
		emailpattern = /^[0-9a-zA-Z]([-_.]?[0-9a-zA-Z])*@[0-9a-zA-Z]([-_.]?[0-9a-zA-Z])*.[a-zA-Z]{2,3}$/;
		if(!(emailpattern.test(vemail))){
			alert("email 오류");
			return;
		}
		// 전화번호 : 숫자 2~3자리 - 숫자 4자리 - 숫자 4자리
		phonepattern = /^\d{2,3}-\d{4}-\d{4}$/;
// 		phonepattern = /^[0][0-9]{1,2}-[0-9]{4}-[0-9]{4}$/;
		if(!(phonepattern.test(vphone))){
			alert("phone 오류");
			return;
		}
		
		//f.submit();
		
	}

</script>

</head>
<body>

<h3>회원가입</h3>
<form name = "ff" action = "inputPro.jsp" method="post">
이름: <input type='text' id='name' name = "name"><br>
주소: <input type='text' id='addr' name = "addr"><br>
생일: <input type='date' id='birthday' name = "bday"><br>
아이디(6-8 문자): 
<input type='text' id='username' name = "id"><br>
비밀번호 : 
<input type = "text" id = "pass" name = "pass"><br>
이메일: <input type='email' id='email' name = "email"><br>
휴대폰: <input type='tel' id='phone' name = "phone"><br>
<input type='button' value='확인' onclick="RegPro()"><br>
</form>

</body>
</html>